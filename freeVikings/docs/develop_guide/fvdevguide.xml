<?xml version="1.0" ?>

<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "docbookx.dtd">

<book>
  <bookinfo>
    <title>FreeVikings Developer's Guide</title>

    <author>
      <firstname>Jakub</firstname> 
      <surname>Pavlik</surname>
      <email>severus@post.cz</email>
    </author>
  </bookinfo>

  <!-- ====================================================================
       Chapter: INTRODUCTION.
       Who is this book for, what is it's aim, ... 
       ==================================================================== -->

  <chapter>
    <title>Introduction</title>

    <para>
      In January 2005 I wrote the first version of freeVikings, and, very
      proud of my first game (it was funless, boring, often crashing),
      published it on the Internet. A lot has changed since January 2005.
      I'm not so proud of my first game. And, I think, it's never more funless.
    </para>
    <para>
      FreeVikings now have several fancy features you expect a good game 
      to have. It's usually stable, 
      good-looking<footnote><para>This is a joke.
      Actually, freeVikings are still awful. I'm not able to do anything
      with this.</para></footnote> and extendable.
    </para>
    <para>
      When the developers make their application scriptable, they don't usually
      do it for themselves but for the users. Or they say they are doing it
      for users (everybody knows that the software developers only do things 
      for fun). FreeVikings are scriptable. 
      It means...<footnote><para>
      Yes, you're right. Actually it means I was playing with Ruby.
      But forget it, will you?</para></footnote>
      It means I want to give you the possibility
      of extending freeVikings with your own levels. You can catch
      Erik, Baleog and Olaf into your own traps. It seems good, doesn't it?
    </para>
    <para>
      So if you like freeVikings, have just a small amount of time for playing
      around a bit, ... Go on reading and make the best freeVikings level
      ever seen.
    </para>
    <para>
      This development guide is being written in the time of creation of
      freeVikings v. 0.7. Some of the interfaces described below can be changed
      in the future. Please, inform me, if you find out that the examples 
      from this guide don't work or some interfaces don't behave as it is 
      described here.
    </para>
    <para>
      Everything in this guide is explained in the environment of unix-like
      operating system such as Linux. I would like to apologize to all the
      poor non-unix-systems-users.
    </para>
  </chapter>

  <!-- ====================================================================
       Chapter: FIRST MAP
       How to create your own map, how to make it running (tell freeVikings
       where to find it) 
       ==================================================================== -->

  <chapter>
    <title>First map</title>

    <para>
      This chapter will guide you through the first steps of the freeVikings
      level developer. You will start with clean hands and end with a ready
      to use map.
    </para>

    <section>
      <title>Requirements</title>
      <para>
	What do you need? At least you need a computer 
	with a running<footnote><para>At first I wrote "well running".
	Then I looked at the text I had just written. FreeVikings do never run
	well... And I retyped the sentence quickly.</para></footnote>
	freeVikings installation and some plain text editor.
	If I could recommend you some, I would tell you to choose 
	<application>GNU Emacs</application> (because I like this great beast),
	but any editor with XML syntax highlighting is good enough for our 
	purpose and you can, if you are some kind of fanatic, use
	<application>ed</application> od <application>NotePad</application>
	of course.
      </para>
      <para>
	Another good thig to install on your computer is 
	<application>Tiled</application> 
	(<ulink url="http://tiled.rpgdx.net"/>), 
	a Java-written tile map editor.
	In fact you don't have to use it, it is also possible to make
	maps using the plain text editor, but I won't describe it here,
	because this kind of hand-made maps is ancient and deprecated.
      </para>
      <graphic fileref="images/tiled.png"/>
      <para>
	<application>Tiled</application> produces simple but full-featured
	human-readable map<footnote><para>Well, not always human 
	readable...</para></footnote> 
	files in XML format.
      </para>
      <para>
	Just one more application. Some graphic editor for creating all kinds
	of graphics. I personally use <application>GIMP</application> 
	(<ulink url="http://www.gimp.org"/>).
	It has a lot of interesting features, is scriptable and free. 
	You will need some graphic editor to make your own tilesets
	(those distributed with freeVikings aren't still any good) and maybe
	your own creatures to make the new levels more interesting.
      </para>
    </section>

    <section>
      <title>Setting up Tiled</title>
      <para>
	First run Tiled. Go to the directory, where you have unpacked and
	installed it. On my machine it's 
	<filename>~/dist/tiled-0.5.0/dist/</filename>. 
	So I type on the terminal:
	<screen>
	  <computeroutput>[igneus@vidhost ~]$</computeroutput> <userinput>cd ~/dist/tiled-0.5.0/dist/</userinput>
	  <computeroutput>[igneus@vidhost dist]$</computeroutput> <userinput>java -jar tiled.jar</userinput>
	</screen>
      </para>
      <para>
	The second command runs the Java application from archive 
	<filename>tiled.jar</filename>
	(in your installation it can have a different name!).
	After a moment you should see something like this:
      </para>
      <graphic fileref="images/tiled_start.png" />
      <para>
	Of course some problems can (and probably will) occur. I, for example,
	had to delete the pre-compiled binaries (which are by default packed 
	in the distribution) and recompile the application, because it had been
	linkde with newer libraries than I had on my machine.
      </para>
      <para>
	When <application>Tiled</application> is running, open the menu
	Edit and select item named Preferences. It has three tabs,
	only the one called Saving is important for us. Set it to the state 
	you can see on the image below, then click on Apply and OK.
      </para>
      <graphic fileref="images/tiled_preferences.png"/>
      <para>
	This setup is the only one which works well with freeVikings.
	The other ones won't probably work well.
      </para>
    </section>

    <section>
      <title>New map</title>
      <para>
	Now we will try to design a new map using 
	<application>Tiled</application>.
      </para>
    </section>

    <section>
      <title>Location data</title>
    </section>

    <section>
      <title>Try it!</title>
    </section> -->
  </chapter> 

  <!-- ====================================================================
       Chapter: FREEVIKINGS BASICS
       Basic concepts of the game world.
       What is the Location, StaticObjects, ActiveObjects, Sprites, Items,
       what are they good for.
       ==================================================================== -->

  <!-- ====================================================================
       Chapter: SCRIPTING
       Writing location scripts with all the fancy stuff.
       ==================================================================== -->

  <!-- ====================================================================
       Chapter: COOL STUFF
       About themes, passwords, level suites.
       ==================================================================== -->

  <!-- ====================================================================
       Chapter: HOW TO CONTRIBUTE
       How to give your masterpiece to the free world.
       ==================================================================== -->
</book>
